{"version":3,"file":"lodash-magic-cache.min.js","sources":["../src/cache.js","../src/main.js"],"sourcesContent":["import _isArray from 'lodash/fp/isArray';\nimport _isString from 'lodash/fp/isString';\nimport _flow from 'lodash/fp/flow';\nimport _map from 'lodash/fp/map';\nimport _filter from 'lodash/fp/filter';\nimport _startsWith from 'lodash/fp/startsWith';\nimport _replace from 'lodash/fp/replace';\nimport _fromPairs from 'lodash/fp/fromPairs';\n\nconst _ = {\n  flow: _flow,\n  isArray: _isArray,\n  isString: _isString,\n  map: _map,\n  startsWith: _startsWith,\n  filter: _filter,\n  replace: _replace,\n  fromPairs: _fromPairs,\n};\n\nconst importedModules = new Map();\n\nconst requireLodash = (name) => {\n  if (!importedModules.has(name)) {\n    // eslint-disable-next-line import/no-dynamic-require, global-require\n    importedModules.set(name, require(`lodash/${name}`));\n  }\n\n  return importedModules.get(name);\n};\n\nconst requireLodashFP = name => requireLodash(`fp/${name}`);\n\nexport default {\n  get: (modules, fp = false) => {\n    if (_.isArray(modules)) {\n      return _.fromPairs(fp ?\n        _.map(m => [m, requireLodashFP(m)])(modules)\n        : _.map(m => [m, requireLodash(m)])(modules));\n    }\n\n    if (_.isString(modules)) {\n      return _.fromPairs(fp ?\n        [[modules, requireLodashFP(modules)]]\n        : [[modules, requireLodash(modules)]]);\n    }\n\n    throw new TypeError(`Expecting [String] or a String lodash method name(s), instead got ${modules}`);\n  },\n\n  has: (name, fp = false) => importedModules.has(`${fp ? 'fp/' : ''}${name}`),\n\n  clear: () => importedModules.clear(),\n};\n","import cache from 'cache';\n\nexport default {\n  lodash(modules) {\n    return cache.get(modules, false);\n  },\n\n  lodashFP(modules) {\n    return cache.get(modules, true);\n  },\n};\n"],"names":["flow","_flow","isArray","_isArray","isString","_isString","map","_map","startsWith","_startsWith","filter","_filter","replace","_replace","fromPairs","_fromPairs","importedModules","requireLodash","name","has","set","require","get","requireLodashFP","modules","_","fp","m","clear","lodash","lodashFP"],"mappings":";;;;;;;;;;;;;AASA,MAAU,CACRA,KAAMC,KADE,CAERC,QAASC,QAFD,CAGRC,SAAUC,SAHF,CAIRC,IAAKC,IAJG,CAKRC,WAAYC,WALJ,CAMRC,OAAQC,OANA,CAORC,QAASC,QAPD,CAQRC,UAAWC,UARH,CAAV,CAWMC,gBAAkB,OAXxB,CAaMC,cAAgB,SAACC,CAAD,CAAU,CAM9B,uBALqBC,GAAhB,CAAoBD,CAApB,CAKL,EAHEF,gBAAgBI,GAAhB,CAAoBF,CAApB,CAA0BG,yBAAkBH,CAAlB,EAA1B,CAGF,EAAOF,gBAAgBM,GAAhB,CAAoBJ,CAApB,CACR,CApBD,CAsBMK,gBAAkB,8CAA4BL,CAApB,EAAR,CAtBxB,CAwBA,YAAe,CACbI,IAAK,aAACE,CAAD,CAAyB,MAAA,6DAC5B,GAAIC,EAAEvB,OAAF,CAAUsB,CAAV,CAAJ,CACE,SAASV,SAAF,CAAYY,EACjBD,EAAEnB,GAAF,CAAM,kBAAK,CAACqB,CAAD,CAAIJ,gBAAgBI,CAAhB,CAAJ,CAAL,CAAN,EAAoCH,CAApC,CADiB,CAEfC,EAAEnB,GAAF,CAAM,kBAAK,CAACqB,CAAD,CAAIV,cAAcU,CAAd,CAAJ,CAAL,CAAN,EAAkCH,CAAlC,CAFG,CAAP,CAKF,GAAIC,EAAErB,QAAF,CAAWoB,CAAX,CAAJ,CACE,SAASV,SAAF,CAAYY,EACjB,CAAC,CAACF,CAAD,CAAUD,gBAAgBC,CAAhB,CAAV,CAAD,CADiB,CAEf,CAAC,CAACA,CAAD,CAAUP,cAAcO,CAAd,CAAV,CAAD,CAFG,CAAP,CAKF,mBAAM,6EAAmFA,CAAnF,EACP,CAfY,CAiBbL,IAAK,aAACD,CAAD,OAAA,oFAAsCC,GAAhB,WAAuBO,EAAK,KAAL,CAAa,EAApC,SAAyCR,CAAzC,EAAtB,CAjBQ,CAmBbU,MAAO,wCAAsBA,KAAhB,EAAN,CAnBM,CAAf;;AC/BA,WAAe,CACbC,MADa,iBACNL,CADM,CACG,CACd,aAAaF,GAAN,CAAUE,CAAV,IACR,CAHY,CAKbM,QALa,mBAKJN,CALI,CAKK,CAChB,aAAaF,GAAN,CAAUE,CAAV,IACR,CAPY,CAAf;;;;"}