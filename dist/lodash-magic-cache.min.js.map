{"version":3,"file":"lodash-magic-cache.min.js","sources":["../src/cache.js","../src/main.js"],"sourcesContent":["import _isArray from 'lodash/fp/isArray';\nimport _isString from 'lodash/fp/isString';\nimport _map from 'lodash/fp/map';\n\nconst _ = {\n  isArray: _isArray,\n  isString: _isString,\n  map: _map,\n};\n\nlet importedModules = {};\nlet importedModulesFp = {};\n\nexport default class MagicCache {\n  static require(name, fp) {\n    if (!fp && !importedModules[name]) {\n      // eslint-disable-next-line import/no-dynamic-require, global-require\n      importedModules[name] = require(`lodash/${name}`);\n    }\n\n    if (fp && !importedModulesFp[name]) {\n      // eslint-disable-next-line import/no-dynamic-require, global-require\n      importedModulesFp[name] = require(`lodash/fp/${name}`);\n    }\n\n    return fp ? importedModulesFp[name] : importedModules[name];\n  }\n\n  static get(modules, fp = false) {\n    if (_.isArray(modules)) {\n      return _.map(name => MagicCache.require(name, fp))(modules);\n    }\n\n    if (_.isString(modules)) {\n      return MagicCache.require(modules, fp);\n    }\n\n    throw new TypeError(`Expecting [String] or a String lodash method name(s), instead got ${modules}`);\n  }\n\n  static modules(fp = false) {\n    return fp ? importedModulesFp : importedModules;\n  }\n\n  static clear(fp = false) {\n    if (fp) {\n      importedModulesFp = {};\n    } else {\n      importedModules = {};\n    }\n  }\n}\n","import MagicCache from 'cache';\n\nexport default {\n  lodash(modules) {\n    return MagicCache.get(modules, false);\n  },\n\n  fp(modules) {\n    return MagicCache.get(modules, true);\n  },\n};\n"],"names":["isArray","_isArray","isString","_isString","map","_map","importedModules","importedModulesFp","MagicCache","name","fp","require","modules","_","lodash","get"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,MAAU,CACRA,QAASC,QADD,CAERC,SAAUC,SAFF,CAGRC,IAAKC,IAHG,CAAV,CAMIC,gBAAkB,EANtB,CAOIC,kBAAoB,EAPxB,CASqBC,UATrB,0NAUiBC,CAVjB,CAUuBC,CAVvB,CAU2B,CAWvB,QAVI,EAAQJ,gBAAgBG,CAAhB,CAUZ,GAREH,gBAAgBG,CAAhB,EAAwBE,yBAAkBF,CAAlB,EAQ1B,GALIC,GAAM,CAACH,kBAAkBE,CAAlB,CAKX,GAHEF,kBAAkBE,CAAlB,EAA0BE,4BAAqBF,CAArB,EAG5B,GAAOC,EAAKH,kBAAkBE,CAAlB,CAAL,CAA+BH,gBAAgBG,CAAhB,CACvC,CAtBH,iCAwBaG,CAxBb,CAwBkC,MAAA,6DAC9B,GAAIC,EAAEb,OAAF,CAAUY,CAAV,CAAJ,CACE,SAASR,GAAF,CAAM,qBAAmBO,OAAX,CAAmBF,CAAnB,CAAyBC,CAAzB,CAAR,CAAN,EAA4CE,CAA5C,CAAP,CAGF,GAAIC,EAAEX,QAAF,CAAWU,CAAX,CAAJ,CACE,SAAkBD,OAAX,CAAmBC,CAAnB,CAA4BF,CAA5B,CAAP,CAGF,mBAAM,6EAAmFE,CAAnF,EACP,CAlCH,yCAoC6B,MAAA,6DACzB,SAAYL,iBAAL,CAAyBD,eACjC,CAtCH,qCAwC2B,MAAA,6DACnBI,CADmB,CAErBH,kBAAoB,EAFC,CAIrBD,gBAAkB,GAErB,CA9CH;;ACFA,WAAe,CACbQ,MADa,iBACNF,CADM,CACG,CACd,kBAAkBG,GAAX,CAAeH,CAAf,IACR,CAHY,CAKbF,EALa,aAKVE,CALU,CAKD,CACV,kBAAkBG,GAAX,CAAeH,CAAf,IACR,CAPY,CAAf;;;;"}